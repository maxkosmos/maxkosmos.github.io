!function(){"init"!==window._uSocialTool&&"undefined"==typeof window._uSocialTool&&(window._uSocialTool="init",usclUtility=function(){var t={checkIE:function(){return Boolean(document.all&&(!document.documentMode||document.documentMode&&document.documentMode<10))},hasObj:function(t,e){var n=void 0==e;return void 0!==t&&null!=t&&(!!n||e in t)},closestParent:function(t,e){if(!t.classList.contains(e))for(;(t=t.parentElement)&&!t.classList.contains(e););return t},checkInObject:function(t,e){var n=null;for(var i in t)if(t.hasOwnProperty(i)){if(i===e){n=t[i];break}if(t[i]&&"object"==typeof t[i]){var o=this.checkInObject(t[i],e);if(o){n=o;break}}}return n},bitShiftByKey:function(t,e){for(var n="",i=0;i<t.length;i++){var o=e.substr(-1);n+=String.fromCharCode(t[i].charCodeAt(0)^o.charCodeAt(0)),e=o+e.substr(0,e.length-1)}return n},getVersion:function(t){var e="?v=",n="";return"undefined"!=typeof t&&(n=String(e+t)),n},randomString:function(t){for(var e="0123456789",n="",i=0;i<t;i++){var o=Math.floor(Math.random()*e.length);n+=e.substring(o,o+1)}return n},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}};return{tool:t}}())}();var usclHost=function(){function t(){var t,o=document.querySelector("script[data-script=usocial]")||!1,r=document.querySelector("[data-uscl-host]")||!1;return t=o?e(o):r?n(r):i()}function e(t){var e=t?t.getAttribute("src").split("/"):null;return[].concat(e[0],e[1],e[2]).join("/")}function n(t){var e=t?t.getAttribute("data-uscl-host"):"";return e}function i(){for(var t,n=document.querySelectorAll("script[src]")||[],i=n.length-1;i>=0;i--){var o=n[i].getAttribute("src")||"";/usocial\./.test(o)&&(t=e(n[i]),n[i].dataScript="usocial")}return t}return{init:t}}(),uFingerPrint=function(){function t(t){var e=document.createElement("script"),n=document.getElementsByTagName("body")[0],i=document.getElementsByTagName("head")[0];e.async=!0,e.type="text/javascript",e.charset="UTF-8",e.src=usclHost.init()+"/usocial/fingerprint2.min.js","undefined"==typeof n?i.appendChild(e):n.appendChild(e),e.onload=function(){void 0!==t&&t&&t()}}function e(){return o}function n(t){function e(){if("undefined"!=typeof Fingerprint2){var t=new Fingerprint2({extendedJsFonts:!0,excludeUserAgent:!0,excludeTimezoneOffset:!0,excludeWebGL:!0,excludeAvailableScreenResolution:!0,excludeScreenResolution:!0,excludePixelRatio:!0,excludeColorDepth:!0});t.get(function(t){o=t,void 0!==i&&i&&i()}),clearTimeout(n)}else n=setTimeout(e,50)}var n,i=t;e()}function i(e){return"init"===window._uFPrint2?void n(e):void("undefined"==typeof window._uFPrint2&&(window._uFPrint2="init",t(function(){n(e)})))}var o=null;return{init:i,getFpUsocialUser:e}}(),uPixel=function(){function t(t,e,n){var i=usclHost.init()+"/logs/store-view",o="&c="+usclUtility.tool.randomString(7),r="",u="",s="";if("undefined"==typeof i||null==i||""==i)throw new Error("Некорректный URL пикселя");if("true"!=sessionStorage.getItem("fingerPrint_"+t)){if("referrer"in document&&(u=document.referrer),"undefined"!=typeof u&&null!=u&&""!=u&&(o=o+"&r="+encodeURIComponent(u)),o=o+"&pid="+t,o=o+"&usocialUser="+uFingerPrint.getFpUsocialUser(),o=o+"&pType="+e.toLowerCase(),o=o+"&url="+document.URL,void 0!==n)switch(e){case"publicpopup":o=o+"&popupOpenType="+n;break;case"share":case"like":o=o+"&barDisplayStatus="+n}r=s.indexOf("?")!=-1?i+"&"+o:i+"?"+o;var c=document.createElement("img");c.setAttribute("id","usocial-pixel"),c.setAttribute("src",r),c.style.height="0px",c.style.width="0px",c.style.display="none",document.body.appendChild(c),sessionStorage.setItem("fingerPrint_"+t,"true")}}function e(e,n,i){t(e,n,i)}return{init:e}}(),uCookies=function(){function t(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}function e(t,e,n){n=n||{};var i=n.expires;if("number"==typeof i&&i){var o=new Date;o.setTime(o.getTime()+1e3*i),i=n.expires=o}i&&i.toUTCString&&(n.expires=i.toUTCString()),e=encodeURIComponent(e);var r=t+"="+e;for(var u in n){r+="; "+u;var s=n[u];s!==!0&&(r+="="+s)}document.cookie=r}return{getCookie:t,setCookie:e}}(),checkDevice=function(){var t={userAgent:window.navigator.userAgent.toLowerCase(),ios:function(){return this.iphone()||this.ipod()||this.ipad()},mobileSafari:function(){return/safari/.test(navigator.userAgent.toLowerCase())&&!/chrome/.test(navigator.userAgent.toLowerCase())},mobileChrome:function(){return/chrome/.test(navigator.userAgent.toLowerCase())&&!/version/.test(navigator.userAgent.toLowerCase())},iphone:function(){return this.find("iphone")},ipod:function(){return this.find("ipod")},ipad:function(){return this.find("ipad")},android:function(){return this.find("android")},androidVersion:function(){return navigator.userAgent.toLowerCase().match(/android (\d+(?:\.\d+))/)[0].replace("android ","")},androidPhone:function(){return this.android()&&this.find("mobile")},androidTablet:function(){return this.android()&&!this.find("mobile")},blackberry:function(){return this.find("blackberry")||this.find("bb10")||this.find("rim")},blackberryPhone:function(){return this.blackberry()&&!this.find("tablet")},blackberryTablet:function(){return this.blackberry()&&this.find("tablet")},windows:function(){return this.find("windows")},windowsPhone:function(){return this.windows()&&this.find("phone")},windowsTablet:function(){return this.windows()&&this.find("touch")},fxos:function(){return this.find("(mobile; rv:")||this.find("(tablet; rv:")},fxosPhone:function(){return this.fxos()&&this.find("mobile")},fxosTablet:function(){return this.fxos()&&this.find("tablet")},mobile:function(){return this.androidPhone()||this.iphone()||this.ipod()||this.windowsPhone()||this.blackberryPhone()||this.fxosPhone()},tablet:function(){return this.ipad()||this.androidTablet()||this.blackberryTablet()||this.windowsTablet()||this.fxosTablet()},portrait:function(){return window.innerHeight>window.innerWidth},landscape:function(){return window.innerHeight<window.innerWidth},find:function(t){return this.userAgent.indexOf(t)!==-1}};return{device:t}}(),scrollToTop=function(){function t(t,n){var i=document.documentElement;if(0===i.scrollTop){var o=i.scrollTop;++i.scrollTop,i=o+1===i.scrollTop--?i:document.body}e(i,i.scrollTop,t,n)}function e(t,e,o,r){r<0||("object"==typeof e&&(e=e.offsetTop),"object"==typeof o&&(o=o.offsetTop),n(t,e,o,0,1/r,20,i))}function n(t,e,i,o,r,u,s){o<0||o>1||r<=0||(t.scrollTop=e-(e-i)*s(o),o+=r*u,setTimeout(function(){n(t,e,i,o,r,u,s)},u))}function i(t){return t--,t*t*t+1}function o(e,n){t(e,n)}return{init:o}}(),sendEventRequest=function(){function t(t,e,i){var i=i||!1,o=uCookies.getCookie("usocialUser2"),r={},u="onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest,s=new u;void 0===e.url&&(e.url=document.URL),r=e,r.type=t,r.usocialUser=n,r.usocialUser2=o,i===!0&&(r.isSecondRequest=!0),s.open("POST",usclHost.init()+"/logs/event-handler",!0),s.onload=function(){203===this.status&&(uCookies.setCookie("usocialUser2",usclUtility.tool.bitShiftByKey(n,s.response),{expires:31536e3,path:"/"}),sendEventRequest.init(t,e,!0))},s.onerror=function(){throw new Error(this.status)},s.send(JSON.stringify(r))}function e(e,i,o){n=uFingerPrint.getFpUsocialUser(),t(e,i,o)}var n;return{init:e}}(),uSocial=function(t){function e(t,e,n){var i=document.createElement("script"),o=document.getElementsByTagName("body")[0],r=document.getElementsByTagName("head")[0];i.async=!0,i.type="text/javascript",i.charset="UTF-8",i.src=usclHost.init()+t+"?js="+e,"undefined"==typeof o?r.appendChild(i):o.appendChild(i),i.onload=function(){n()}}function n(){"init"!==window.uSocialShareInit&&"undefined"==typeof window.uSocialShareInit&&u&&(window.uSocialShareInit="init",e("/usocial/usocial.share.js",t,function(){uSocialShare.init()}))}function i(){"init"!==window.uSocialLikeInit&&"undefined"==typeof window.uSocialLikeInit&&s&&(window.uSocialLikeInit="init",e("/usocial/usocial.like.js",t,function(){uSocialLike.init()}))}function o(){var t=50;u=document.querySelectorAll('[data-social][data-options][data-type="share"]').length>0,s=document.getElementsByClassName("uSocial-Like").length>0,c=setTimeout(function(){if(u||s)n(),i();else{if(1500===a)return clearTimeout(c),!1;a+=t,o()}},a)}function r(){function t(){"complete"==document.readyState&&o()}usclUtility.tool.checkIE()?document.onreadystatechange=t:"loading"==document.readyState?document.addEventListener("DOMContentLoaded",o):o()}var u,s,c,a=0;return{init:r}}("7.1.5");uSocial.init();